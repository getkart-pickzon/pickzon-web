(this["webpackJsonppickzon-web"]=this["webpackJsonppickzon-web"]||[]).push([[33],{295:function(e,t,a){},461:function(e,t,a){"use strict";a.r(t);var n=a(11),c=a.n(n),r=a(109),s=a(8),o=a(17),i=a(28),l=a(0),u=a.n(l),j=a(288),d=a(264),b=a(155),O=a(53),f=a(342),h=a(191),p=a(29),m=a(300),x=a(75),k=a(14),g=a(308),v=a.n(g),w=(a(163),a(294)),C=a(302),L=a.n(C),y=a(280),F=a(108),N=a(154),I=a(279),S=a(292),D=a.n(S),R=(a(295),a(290),a(16)),_=a(1),M=[{key:"1",text:"Share",icon:"share alternate"},{key:"3",text:"Report",icon:"warning sign"},{key:"2",text:"Block",icon:"dont"}],P={userId:"",feedId:"",pageNumber:0,pageLimit:10,timeZone:""},T={userId:"",feedId:"",pageNumber:0,pageLimit:10},U={isLoader:!1,isLikeLoader:!0,commentLoader:!1,totalCommentCount:0,userCommentData:[],commentInput:!1,commentValue:"",commentReplyValue:"",likeCount:0,isLike:0,likeData:[],isFollow:0,followLabel:"Follow",isSaved:0,commentSubReplyValue:""},V=function(e){var t=e.avatar,a=e.item,n=e.user,j=e.postTime,d=e.mediaUrls,f=void 0===d?[]:d,p=e.likeCount,m=e.commentCount,g=e.shareCount,v=Object(l.useState)(U),C=Object(i.a)(v,2),S=C[0],V=C[1],A=Object(l.useState)(!1),E=Object(i.a)(A,2),z=(E[0],E[1]),q=Object(k.h)();P.userId=q._id,T.userId=q._id,Object(l.useEffect)((function(){!function(){try{var e=0===a.isFollow?"Follow":"Unfollow";V((function(t){return Object(s.a)(Object(s.a)({},t),{},{isLike:a.isLike,likeCount:p,followLabel:e,isSaved:a.isSave})}))}catch(t){console.log(t)}}()}),[p]);var B=Object(l.useCallback)(Object(o.a)(c.a.mark((function e(){var t,n,o,i,l,u,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,J(),P.feedId=a.id,P.pageNumber=0,V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoader:!0})})),e.next=7,Object(x.e)("/feed/fetch-all-feed-comment",P);case 7:if(n=e.sent,o=n.status,i=n.totalPages,l=n.message,u=n.payload,V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoader:!1})})),0!==o){e.next=15;break}return e.abrupt("return",console.log("Fetch Feed Data ",l));case 15:(j=[]).length>250&&(j=[]),(t=j).push.apply(t,Object(r.a)(u)),V((function(e){return Object(s.a)(Object(s.a)({},e),{},{totalCommentCount:i,userCommentData:j})})),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))),J=(Object(l.useCallback)(Object(o.a)(c.a.mark((function e(){var t,a,n,o,i,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoader:!0})})),P.pageNumber+=1,e.next=5,Object(x.e)("/feed/fetch-all-feed-comment",P);case 5:if(a=e.sent,n=a.status,o=a.totalPages,i=a.message,l=a.payload,V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoader:!1})})),0!==n){e.next=13;break}return e.abrupt("return",console.log("Fetch More Feed Data ",i));case 13:(u=S.userCommentData||[]).length>250&&(u=[]),(t=u).push.apply(t,Object(r.a)(l)),setTimeout((function(){V((function(e){return Object(s.a)(Object(s.a)({},e),{},{totalCommentCount:o,userCommentData:u})}))}),2),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))),function(){try{setTimeout((function(){V((function(e){return Object(s.a)(Object(s.a)({},e),{},{commentInput:!0})}))}),12)}catch(e){console.log(e)}}),Z=function(){var e=Object(o.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=0,n=parseInt(S.likeCount),1===S.isLike?n-=1:(t=1,n+=1),V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLike:t,likeCount:n})})),e.next=7,Object(x.d)("/feed/like-dislike-feed",a.id,{action:t,userId:q._id});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),H=Object(l.useCallback)(Object(o.a)(c.a.mark((function e(){var t,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T.feedId=null===a||void 0===a?void 0:a.id,T.pageNumber=0,e.next=5,Object(x.e)("/feed/fetch-all-user-likes",T);case 5:if(t=e.sent,n=t.status,r=t.message,o=t.payload,0!==n){e.next=11;break}return e.abrupt("return",console.log(r));case 11:V((function(e){return Object(s.a)(Object(s.a)({},e),{},{likeData:o})})),z(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))),K=(Object(l.useCallback)(Object(o.a)(c.a.mark((function e(){var t,a,n,o,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLikeLoader:!0})})),T.pageNumber+=1,e.next=5,Object(x.e)("/feed/fetch-all-user-likes",T);case 5:if(a=e.sent,n=a.status,o=a.message,i=a.payload,V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLikeLoader:!1})})),0!==n){e.next=12;break}return e.abrupt("return",console.log("Fetch More Feed Like Data ",o));case 12:(l=S.likeData||[]).length>250&&(l=[]),(t=l).push.apply(t,Object(r.a)(i)),V((function(e){return Object(s.a)(Object(s.a)({},e),{},{likeData:l})})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))),function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=0,"Follow"===S.followLabel&&(t=1),a={userId:q._id,followedUserId:n.id,status:t},e.next=6,Object(x.e)("/user/follow-unfollow-user",a);case 6:if(r=e.sent,o=r.status,i=r.payload,0!==o){e.next=11;break}return e.abrupt("return");case 11:V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isFollow:1,followLabel:i.statusType})})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()),G=function(){var e=Object(o.a)(c.a.mark((function e(){var t,n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=1===S.isSaved?0:1,n={userId:q._id,feedId:a.id},e.next=5,Object(x.e)("/feed/save-feed-post",n);case 5:if(r=e.sent,o=r.status,1===r.payload.deletedCount&&(t=0),0!==o){e.next=12;break}return e.abrupt("return");case 12:V((function(e){return Object(s.a)(Object(s.a)({},e),{},{isSaved:t})})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(h.a,{color:"blue",fluid:!0,children:[Object(_.jsxs)(h.a.Content,{className:"post-feed-header",children:[Object(_.jsx)(y.a,{children:Object(_.jsxs)(y.a.Event,{children:[Object(_.jsx)(y.a.Label,{children:t?Object(_.jsx)(F.a,{src:t}):Object(_.jsx)(O.a,{name:"user",circular:!0,color:"grey"})}),Object(_.jsxs)(y.a.Content,{className:"head-label",children:[Object(_.jsx)(y.a.Summary,{children:Object(_.jsx)("a",{children:n.first_name?n.first_name:"Profile Name"})}),Object(_.jsx)(y.a.Meta,{children:j?Object(_.jsx)(y.a.Date,{content:"".concat(L()(new Date(j)).fromNow())}):""})]}),Object(_.jsx)(y.a.Extra,{children:n.id!==q._id?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(N.a,{color:"blue",basic:!0,circular:!0,compact:!0,onClick:function(){return K()},children:[Object(_.jsx)(O.a,{name:"Follow"===S.followLabel?"add user":"user delete"}),"   ",S.followLabel]}),"\xa0",Object(_.jsx)(O.a,{link:!0,name:0===S.isSaved?"bookmark outline":"bookmark",circular:!0,color:"blue",fitted:!0,onClick:function(){return G()}}),"\xa0",Object(_.jsx)(I.a,{icon:"ellipsis vertical",direction:"left",as:"h5",className:"dropdown-dots",children:Object(_.jsx)(I.a.Menu,{children:(M||[]).map((function(e){return Object(_.jsx)(I.a.Item,Object(s.a)({},e),e.value)}))})})]}):null})]})}),Object(_.jsx)(h.a.Description,{style:{paddingTop:"6px",paddingBottom:"6px"},children:a.payload})]}),Object(_.jsxs)("div",{style:{background:"#000"},children:["        ",f.length>0?Object(_.jsx)(w.Carousel,{infiniteLoop:!0,useKeyboardArrows:!0,autoPlay:!0,showThumbs:!1,showIndicators:!1,className:"crousel-slider-box",children:(f||[]).map((function(e,t){var a=e.src?e.src:e,n=e.thumbUrl?e.thumbUrl:e,c=!1,r=a.search(".mp4"),s=a.search(".mov"),o=a.search(".avi");return(r>0||s>0||o>0)&&(c=!0),Object(_.jsx)(u.a.Fragment,{children:!1===c?Object(_.jsx)("div",{className:"content-slider",children:Object(_.jsx)(F.a,{src:a,centered:!0,className:"content-container"})}):Object(_.jsx)("div",{className:"video-player",children:Object(_.jsx)(D.a,{playing:!0,light:n,url:a,controls:!0})})},t)}))}):Object(_.jsx)(F.a,{src:R.a.defaultPlaceholders.waterMarkSq.img,alt:R.a.defaultPlaceholders.waterMarkSq.alt,centered:!0,style:{height:"500px"}})]}),Object(_.jsx)(h.a.Content,{className:"post-feed-footer",children:Object(_.jsxs)("div",{className:"post-feed-footer-icon",children:[Object(_.jsx)(b.a,{as:"a",children:Object(_.jsxs)(y.a.Like,{children:[Object(_.jsx)(h.a.Content,{onClick:function(){return Z()},children:0===S.isLike?Object(_.jsx)(O.a,{name:"heart outline",fitted:!0}):Object(_.jsx)(O.a,{name:"like",color:"red",fitted:!0})})," \xa0",Object(_.jsxs)(h.a.Content,{onClick:function(){return H()},children:[" ",S.likeCount," ",0===S.likeCount||1===S.likeCount?Object(_.jsx)(_.Fragment,{children:" Like"}):Object(_.jsx)(_.Fragment,{children:"Likes"})]})]})}),Object(_.jsx)(b.a,{as:"a",children:Object(_.jsxs)(y.a.Like,{onClick:function(){return B()},children:[Object(_.jsxs)(h.a.Content,{as:"a",children:[Object(_.jsx)(O.a,{name:"comment outline",fitted:!0})," ",m]})," "," ",Object(_.jsx)("span",{children:"Comment"})]})}),Object(_.jsx)(b.a,{as:"a",children:Object(_.jsxs)(y.a.Like,{children:[Object(_.jsx)(O.a,{name:"share",fitted:!0})," ",g," Share"]})})]})})]})})},A={userId:"",pageNumber:0,pageLimit:10,statusValue:"",filterValue:"",search:"",sort:{},timeZone:""},E={feedRecord:[],totalPage:0,totalRecord:0,hashMore:!0,totalRecords:0,isLoader:!1};t.default=function(){var e=Object(l.useState)(E),t=Object(i.a)(e,2),a=t[0],n=t[1],g=Object(k.h)();A.userId=g._id,Object(l.useEffect)((function(){try{w()}catch(e){console.log(e)}}),[]);var w=Object(l.useCallback)(Object(o.a)(c.a.mark((function e(){var t,o,i,l,u,j,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoader:!0})})),e.next=4,Object(x.e)("/feed/fetch-all-save-feeds",A);case 4:if(o=e.sent,i=o.status,l=o.message,u=o.totalRecords,j=o.payload,n((function(e){return Object(s.a)(Object(s.a)({},e),{},{isLoader:!1})})),0!=i){e.next=13;break}return console.log("fetchUserData ",l),e.abrupt("return",n((function(e){return Object(s.a)(Object(s.a)({},e),{},{hashMore:!1})})));case 13:[],d=a.feedRecord,(t=d).push.apply(t,Object(r.a)(j)),n((function(e){return Object(s.a)(Object(s.a)({},e),{},{feedRecord:d,totalRecords:u})})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case 24:case"end":return e.stop()}}),e,null,[[0,20]])}))));return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(j.a,{children:Object(_.jsx)(d.a,{centered:!0,stackable:!0,children:Object(_.jsxs)(d.a.Column,{mobile:16,tablet:8,computer:8,widescreen:6,className:"",children:[Object(_.jsxs)(b.a,{style:{paddingTop:"18px"},children:[Object(_.jsx)(O.a,{name:"bookmark",color:"pink",size:"tinny",fitted:!0}),"\xa0 Saved Feed List \xa0"]}),Object(_.jsx)(f.a,{}),0===a.feedRecord.length?Object(_.jsx)(_.Fragment,{children:!0===a.hashMore?Object(_.jsx)(_.Fragment,{children:v.a.times(A.pageLimit,(function(e){return Object(_.jsx)(h.a,{fluid:!0,children:Object(_.jsxs)(h.a.Content,{children:[Object(_.jsxs)(p.a,{children:[Object(_.jsxs)(p.a.Header,{image:!0,children:[Object(_.jsx)(p.a.Line,{length:" short"}),Object(_.jsx)(p.a.Line,{length:"very short"})]}),Object(_.jsxs)(p.a.Paragraph,{children:[Object(_.jsx)(p.a.Line,{}),Object(_.jsx)(p.a.Line,{})]})]}),Object(_.jsxs)(p.a,{fluid:!0,style:{height:"400px"},children:[Object(_.jsx)(p.a.Image,{rectangular:!0}),Object(_.jsx)(p.a.Line,{length:" short"})]})]})},e)}))}):Object(_.jsx)(k.d,{})}):null,Object(_.jsx)(m.a,{dataLength:a.feedRecord.length,next:function(e){A.pageNumber=A.pageNumber+1,w()},style:{padding:"1px"},hasMore:a.hashMore,endMessage:Object(_.jsx)("p",{style:{textAlign:"center"},children:Object(_.jsx)("b",{children:"No more to show"})}),loader:Object(_.jsx)("h4",{style:{textAlign:"center"},children:"Loading..."}),children:(a.feedRecord||[]).map((function(e,t){return Object(_.jsx)(u.a.Fragment,{children:Object(_.jsx)(V,{avatar:Object(k.k)(e.user_info.profile_pic),item:e,user:e.user_info?e.user_info:{},postTime:e.createdAt,mediaUrls:e.mediaUrls,likeCount:e.likeCount,commentCount:e.commentCount,shareCount:e.shareCount})},t)}))})]})})})})}}}]);
//# sourceMappingURL=33.f5c6034c.chunk.js.map